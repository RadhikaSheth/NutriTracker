(this.webpackJsonpgui=this.webpackJsonpgui||[]).push([[0],{92:function(e,t,r){},99:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),i=r(17),a=r.n(i),o=r(34),c=r(10),l=r(11),d=r(13),h=r(12),u=r(20),j=(r(73),r(21)),b=r.n(j),p="AUTH_START",O="AUTH_SUCCESS",x="AUTH_FAIL",m="AUTH_LOGOUT",f=function(){return{type:p}},g=function(e){return{type:O,token:e}},y=function(e){return{type:x,error:e}},v=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),{type:m}},C=function(e){return function(t){setTimeout((function(){t(v())}),1e3*e)}},w=(r(92),r(93),r(41)),k=r(7),N=r(104),S=r(1),q=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(N.a,{style:{display:"flex",justifyContent:"center",marginTop:"13%"},children:Object(S.jsx)("h2",{style:{color:"green"},children:Object(S.jsx)("b",{children:"ADD YOUR MEALS "})})}),Object(S.jsx)(N.a,{style:{display:"flex",justifyContent:"center"},children:Object(S.jsxs)("h2",{style:{color:"green"},children:[Object(S.jsx)("b",{children:"AND"})," "]})}),Object(S.jsx)(N.a,{style:{display:"flex",justifyContent:"center"},children:Object(S.jsx)("h2",{style:{color:"green"},children:Object(S.jsx)("b",{children:"GET YOUR DAILY NUTRI-STATS!"})})})]})}}]),r}(s.a.Component),E=r(108),T=r(110),D=r(107),A=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(S.jsxs)(E.a,{bg:"dark",variant:"dark",children:[Object(S.jsx)(E.a.Brand,{href:"/home",children:"NutriTracker"}),Object(S.jsxs)(T.a,{className:"mr-auto",children:[Object(S.jsx)(T.a.Link,{href:"/input",children:"Add Meal"}),Object(S.jsx)(T.a.Link,{href:"/stats",children:"Get Nutri-Stats"}),Object(S.jsx)(T.a.Link,{})]}),Object(S.jsx)(T.a,{className:"ml-auto mr-5",children:Object(S.jsx)(D.a,{title:Object(S.jsxs)("b",{children:["Hey ",localStorage.getItem("username")," !"]}),id:"basic-nav-dropdown",children:Object(S.jsx)(D.a.Item,{onClick:this.props.logout,href:"/",children:"Logout"})})})]})}}]),r}(s.a.Component),F=Object(k.f)(Object(u.b)(null,(function(e){return{logout:function(){return e(v())}}}))(A)),I=r(105),P=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(S.jsxs)(I.a,{children:[Object(S.jsxs)(N.a,{style:{backgroundColor:this.props.ismore?"#faf0e6":"#ebf5f0",padding:"1%",display:"flex",justifyContent:"space-between"},children:[Object(S.jsx)("h5",{children:Object(S.jsx)("b",{children:this.props.nutritionName})}),Object(S.jsx)("h5",{style:{color:this.props.ismore?"#de5d83":"#00a877"},children:Object(S.jsxs)("b",{children:[this.props.perc.toFixed(2)," % "]})})]}),Object(S.jsx)(N.a,{style:{backgroundColor:"#F8F8FF",padding:"1%"},children:"true"===this.props.ismore?Object(S.jsx)("span",{children:"Eat less:"}):Object(S.jsx)("span",{children:"Eat more:"})}),Object(S.jsxs)(N.a,{style:{backgroundColor:"#F8F8FF",padding:"1%"},children:["Protein"===this.props.nutritionName?Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:"Eggs, Fish and Seafood "}),Object(S.jsx)("li",{children:"Dairy products \u2013 milk, yoghurt (especially Greek yoghurt), cheese (especially cottage cheese)"}),Object(S.jsx)("li",{children:"Nuts (including nut pastes) and seeds \u2013 almonds, pine nuts, walnuts, macadamias, hazelnuts, cashews, pumpkin seeds, sesame seeds, sunflower seeds"}),Object(S.jsx)("li",{children:"Legumes and beans \u2013 all beans, lentils, chickpeas, split peas, tofu"})]}):null,"Carbohydrates"===this.props.nutritionName?Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:"Vegetables (Sweet Potatoes, Beetroots, Corn)"}),Object(S.jsx)("li",{children:"Grains (Quinoa, Brown rice, Oats)"}),Object(S.jsx)("li",{children:"Fruits (Bananas, Apples, Mangos)"}),Object(S.jsx)("li",{children:"Dried fruits (Dates, Raisins, Goji berries)"}),Object(S.jsx)("li",{children:"Pulses (Kidney beans, Garbanzo beans, Lentils)"})]}):null,"Fat"===this.props.nutritionName?Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:"Avocado"}),Object(S.jsx)("li",{children:"Chia seeds"}),Object(S.jsx)("li",{children:"Dark chocolate"}),Object(S.jsx)("li",{children:"Eggs"}),Object(S.jsx)("li",{children:"Fatty fish"}),Object(S.jsx)("li",{children:"Flaxseeds"}),Object(S.jsx)("li",{children:"Nuts"}),Object(S.jsx)("li",{children:"Nut and seed butter"}),Object(S.jsx)("li",{children:"Olives"}),Object(S.jsx)("li",{children:"Tofu"}),Object(S.jsx)("li",{children:"Yogurt"})]}):null,"Sodium"===this.props.nutritionName?Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:"Shrimp"}),Object(S.jsx)("li",{children:"Ham"}),Object(S.jsx)("li",{children:"Cottage Cheese"}),Object(S.jsx)("li",{children:"Vegetable Juice"}),Object(S.jsx)("li",{children:"Processed Cheese"}),Object(S.jsx)("li",{children:"Tortillas"})]}):null,"Potassium"===this.props.nutritionName?Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:"Bananas, oranges, cantaloupe, honeydew, apricots, grapefruit (some dried fruits, such as prunes, raisins, and dates, are also high in potassium)"}),Object(S.jsx)("li",{children:"Potatoes and Sweet potatoes"}),Object(S.jsx)("li",{children:"Cooked spinach, broccoli"}),Object(S.jsx)("li",{children:"Leafy greens"}),Object(S.jsx)("li",{children:"Juice from potassium-rich fruits (Orange, Tomato, Prune, Apricot, Grapefruit)"}),Object(S.jsx)("li",{children:"Certain dairy products, such as milk and yogurt, are high in potassium (low-fat or fat-free is best)."}),Object(S.jsx)("li",{children:"Fish (Tuna, Halibut, Cod, Trout,Rockfish )"})]}):null]})]})}}]),r}(s.a.Component),L=r(106),U=0,R=0,G=0,M=0,_=0,H=0,Y=new Date,z=""+(Y.getMonth()+1),B=""+Y.getDate(),V=Y.getFullYear();z.length<2&&(z="0"+z),B.length<2&&(B="0"+B);var J=[V,z,B].join("-"),K=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(){var e;return Object(c.a)(this,r),(e=t.call(this)).state={food:[],requiredNutrition:[]},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this;b.a.get("http://127.0.0.1:8000/api/",{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((function(t){e.setState({food:t.data},(function(){e.getRequiredNutrition(),0!==e.state.food.length&&e.state.food.map((function(e){0===e.date.localeCompare(J)&&(U+=parseInt(e.calories),R+=parseInt(e.protein),G+=parseInt(e.carb),M+=parseInt(e.fat),_+=parseInt(e.sodium),H+=parseInt(e.potassium))}))}))})).catch((function(e){}))}},{key:"getRequiredNutrition",value:function(){var e=this;b.a.get("http://127.0.0.1:8000/api/getRequiredNutrition/",{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((function(t){e.setState({requiredNutrition:t.data})}))}},{key:"render",value:function(){return Object(S.jsx)("div",{children:Object(S.jsxs)(I.a,{children:[0===U?Object(S.jsxs)(N.a,{style:{display:"flex",justifyContent:"center",marginTop:"2%"},children:[Object(S.jsxs)("h3",{children:["Hey ",localStorage.getItem("username"),"! Go and eat something!"]}),Object(S.jsx)("br",{})]}):null,Object(S.jsxs)(N.a,{style:{display:"flex",marginTop:"2%"},children:[this.state.requiredNutrition.requiredProtein<=R||this.state.requiredNutrition.requiredCarb<=G||this.state.requiredNutrition.requiredFat<=M||this.state.requiredNutrition.requiredSodium<=_||this.state.requiredNutrition.requiredPotassium<=H?Object(S.jsx)("h4",{children:"CUT OFF YOUR DIET IN:"}):null,Object(S.jsx)("br",{}),this.state.requiredNutrition.requiredProtein<=R?Object(S.jsx)(P,{nutritionName:"Protein",ismore:"true",perc:100*R/this.state.requiredNutrition.requiredProtein}):null,this.state.requiredNutrition.requiredCarb<=G?Object(S.jsx)(P,{nutritionName:"Carbohydrates",ismore:"true",perc:100*G/this.state.requiredNutrition.requiredCarb}):null,this.state.requiredNutrition.requiredFat<=M?Object(S.jsx)(P,{nutritionName:"Fat",ismore:"true",perc:100*M/this.state.requiredNutrition.requiredFat}):null,this.state.requiredNutrition.requiredSodium<=_?Object(S.jsx)(P,{nutritionName:"Sodium",ismore:"true",perc:100*_/this.state.requiredNutrition.requiredSodium}):null,this.state.requiredNutrition.requiredPotassium<=H?Object(S.jsx)(P,{nutritionName:"Potassium",ismore:"true",perc:100*H/this.state.requiredNutrition.requiredPotassium}):null]}),Object(S.jsxs)(N.a,{style:{display:"flex",marginTop:"2%"},children:[Object(S.jsx)("h4",{children:"YOUR DIET LACKS:"}),this.state.requiredNutrition.requiredProtein>R?Object(S.jsx)(P,{nutritionName:"Protein",perc:100*R/this.state.requiredNutrition.requiredProtein}):null,this.state.requiredNutrition.requiredCarb>G?Object(S.jsx)(P,{nutritionName:"Carbohydrates",perc:100*G/this.state.requiredNutrition.requiredCarb}):null,this.state.requiredNutrition.requiredFat>M?Object(S.jsx)(P,{nutritionName:"Fat",perc:100*M/this.state.requiredNutrition.requiredFat}):null,this.state.requiredNutrition.requiredSodium>_?Object(S.jsx)(P,{nutritionName:"Sodium",perc:100*_/this.state.requiredNutrition.requiredSodium}):null,this.state.requiredNutrition.requiredPotassium>H?Object(S.jsx)(P,{nutritionName:"Potassium",perc:100*H/this.state.requiredNutrition.requiredPotassium}):null]}),Object(S.jsx)(N.a,{style:{display:"flex",marginTop:"2%"},children:Object(S.jsx)("h3",{children:Object(S.jsx)("b",{children:"TODAY'S MEALS"})})}),Object(S.jsx)(N.a,{style:{display:"flex",marginTop:"2%"},children:U>0?Object(S.jsxs)(L.a,{striped:!0,bordered:!0,hover:!0,style:{width:"100%"},children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"Food Dish"}),Object(S.jsx)("th",{children:"Calories (kCal)"}),Object(S.jsx)("th",{children:"Protein (g)"}),Object(S.jsx)("th",{children:"Carbohydrates (g)"}),Object(S.jsx)("th",{children:"Total Fat (g)"}),Object(S.jsx)("th",{children:"Sodium (mg)"}),Object(S.jsx)("th",{children:"Potassium (mg)"})]})}),Object(S.jsx)("tbody",{children:this.state.food.map((function(e){if(0===e.date.localeCompare(J))return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:e.foodDish}),Object(S.jsx)("td",{children:e.calories}),Object(S.jsx)("td",{children:e.protein}),Object(S.jsx)("td",{children:e.carb}),Object(S.jsx)("td",{children:e.fat}),Object(S.jsx)("td",{children:e.sodium}),Object(S.jsx)("td",{children:e.potassium})]})}))})]}):Object(S.jsx)("h5",{children:"No intake yet!"})})]})})}}]),r}(s.a.Component),$=r(23),X=r(109),Q=r(62),W=r(44);r(98);W.a.configure();var Z=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(){var e;return Object(c.a)(this,r),(e=t.call(this)).state={foodDish:""},e}return Object(l.a)(r,[{key:"submitData",value:function(){var e=this;b.a.post("http://127.0.0.1:8000/api/create/",{foodDish:this.state.foodDish},{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((function(t){e.setState({foodDish:""}),Object(W.a)("MEAL ADDED!",{autoClose:1500,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){Object(W.a)("Add a valid Food dish!",{autoClose:1500,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}},{key:"handleChange",value:function(e){e.preventDefault();var t=e.target.name,r=e.target.value;this.setState(Object($.a)({},t,r))}},{key:"handleSubmit",value:function(){this.submitData()}},{key:"render",value:function(){return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(I.a,{fluid:!0,children:[Object(S.jsx)(N.a,{style:{display:"flex",justifyContent:"center",marginTop:"7%"},children:Object(S.jsx)("h3",{style:{color:"green"},children:Object(S.jsx)("b",{children:"ADD MEAL"})})}),Object(S.jsx)(N.a,{style:{display:"flex",justifyContent:"center",marginTop:"2%"},children:Object(S.jsx)(X.a,{style:{width:"50%",padding:"20px",backgroundColor:"#f8f8ff"},children:Object(S.jsxs)(X.a.Group,{children:[Object(S.jsx)(X.a.Label,{children:"FoodDish"}),Object(S.jsx)(X.a.Control,{type:"text",name:"foodDish",placeholder:"Enter Dish Name",value:this.state.foodDish,onChange:this.handleChange.bind(this)}),Object(S.jsx)("br",{}),Object(S.jsx)(Q.a,{variant:"outline-dark",style:{width:"150px"},onClick:this.handleSubmit.bind(this),children:"Submit"})]})})})]})})}}]),r}(s.a.Component),ee=r(63),te=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(){var e;return Object(c.a)(this,r),(e=t.call(this)).state={formErrors:{},username:"",password:""},e}return Object(l.a)(r,[{key:"handleChange",value:function(e){var t=this,r=e.target.name,n=e.target.value;this.setState(Object($.a)({},r,n),(function(){t.validateField(r,n)}))}},{key:"validateField",value:function(e,t){var r=this.state.formErrors;""===this.state.username?(!1,r.username="Enter your username"):r.username="",""===this.state.password?(!1,r.password="Enter your password"):r.password=""}},{key:"handleSubmit",value:function(){this.props.onAuth(this.state.username,this.state.password)}},{key:"render",value:function(){var e=null;return this.props.error&&(e=Object(S.jsx)("p",{children:"Username or Password not correct"})),Object(S.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(S.jsx)(I.a,{fluid:!0,children:Object(S.jsxs)(N.a,{xs:1,md:2,children:[Object(S.jsx)(ee.a,{style:{textAlign:"center",marginTop:"20%"},children:Object(S.jsx)("h2",{style:{color:"green"},children:Object(S.jsx)("b",{children:"NUTRI TRACKER"})})}),Object(S.jsx)(ee.a,{style:{marginTop:"11%",display:"flex",justifyContent:"center"},children:Object(S.jsxs)(X.a,{style:{width:"90%",padding:"20px",backgroundColor:"#f8f8ff"},children:[Object(S.jsx)("h4",{style:{textAlign:"center"},children:"LOGIN"}),Object(S.jsx)("br",{}),Object(S.jsxs)(X.a.Group,{children:[Object(S.jsx)(X.a.Label,{children:"UserName"}),Object(S.jsx)(X.a.Control,{type:"text",name:"username",placeholder:"Enter UserName",onChange:this.handleChange.bind(this)}),Object(S.jsx)("div",{style:{color:"red"},children:this.state.formErrors.username}),Object(S.jsx)("br",{}),Object(S.jsx)(X.a.Label,{children:"Password"}),Object(S.jsx)(X.a.Control,{type:"password",name:"password",placeholder:"Enter Password",onChange:this.handleChange.bind(this)}),Object(S.jsx)("div",{style:{color:"red"},children:this.state.formErrors.password}),Object(S.jsx)("div",{style:{color:"red"},children:e}),Object(S.jsx)("br",{}),Object(S.jsx)(Q.a,{variant:"outline-dark",style:{width:"150px"},onClick:this.handleSubmit.bind(this),children:"Login"}),"\xa0",Object(S.jsx)(Q.a,{variant:"outline-dark",style:{width:"150px"},href:"/signup",children:"Signup"})]})]})})]})})})}}]),r}(s.a.Component),re=Object(u.b)((function(e){return{loading:e.loading,error:e.error}}),(function(e){return{onAuth:function(t,r){return e(function(e,t){return function(r){r(f()),b.a.post("http://127.0.0.1:8000/rest-auth/login/",{username:e,password:t}).then((function(t){var n=t.data.key,s=new Date((new Date).getTime()+36e5);localStorage.setItem("token",n),localStorage.setItem("username",e),localStorage.setItem("expirationDate",s),r(g(n)),r(C(3600))})).catch((function(e){r(y(e))}))}}(t,r))}}}))(te),ne=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(){var e;return Object(c.a)(this,r),(e=t.call(this)).state={formErrors:{},username:"",email:"",age:"",gender:"Male",password1:"",password2:""},e}return Object(l.a)(r,[{key:"handleChange",value:function(e){var t=this,r=e.target.name,n=e.target.value;this.setState(Object($.a)({},r,n),(function(){t.validateField(r,n)}))}},{key:"validateField",value:function(e,t){var r=this.state.formErrors;if(""===this.state.username&&(!1,r.username="Enter your username"),"undefined"!==typeof this.state.username){(this.state.username.length>150||!/^[\w.@+-\s]+$/.test(this.state.username))&&(!1,r.username="Username should be 150 characters or fewer. Only Letters, digits and @/./+/-/_  valid")}(""===this.state.email&&(!1,r.email="Enter your Email"),"undefined"!==typeof this.state.email)&&(new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(this.state.email)?r.email="":(!1,r.email="Please enter valid email address."));"undefined"!==typeof this.state.age&&(this.state.age>=10&&this.state.age<=70?r.age="":r.age="Age should be between 10 -70"),""===this.state.password1&&(!1,r.password1="Enter the password"),""===this.state.password2&&(!1,r.password1="Enter the confirm password"),"undefined"!==typeof this.state.password1&&(this.state.password1.length<8?(!1,r.password1="Password length should be greater than 8"):r.password1=""),"undefined"!==typeof this.state.password1&&"undefined"!==typeof this.state.password2&&(this.state.password1!==this.state.password2?(!1,r.password2="Passwords dont match!"):r.password2=""),this.setState({formErrors:r,formValid:this.state.nameValid})}},{key:"handleSubmit",value:function(){this.props.onAuth(this.state.username,this.state.email,this.state.password1,this.state.password2),b.a.post("http://127.0.0.1:8000/api/createUser/",{uname:this.state.username,age:this.state.age,gender:this.state.gender}).then((function(e){})).catch((function(e){}))}},{key:"render",value:function(){var e=null;return this.props.error&&(e=Object(S.jsx)("p",{children:"Check all the fields again!"})),Object(S.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(S.jsx)(I.a,{fluid:!0,children:Object(S.jsxs)(N.a,{xs:1,md:2,children:[Object(S.jsx)(ee.a,{style:{textAlign:"center",marginTop:"20%"},children:Object(S.jsx)("h2",{style:{color:"green"},children:Object(S.jsx)("b",{children:"NUTRI TRACKER"})})}),Object(S.jsx)(ee.a,{style:{marginTop:"5%",display:"flex",justifyContent:"center"},children:Object(S.jsxs)(X.a,{style:{width:"90%",padding:"20px",backgroundColor:"#f8f8ff"},children:[Object(S.jsx)("h4",{style:{textAlign:"center"},children:"SIGN UP"}),Object(S.jsx)("br",{}),Object(S.jsxs)(X.a.Group,{children:[Object(S.jsx)(X.a.Label,{children:"UserName"}),Object(S.jsx)(X.a.Control,{type:"text",name:"username",placeholder:"Enter UserName",onChange:this.handleChange.bind(this)}),Object(S.jsx)("div",{style:{color:"red"},children:this.state.formErrors.username}),Object(S.jsx)("br",{}),Object(S.jsx)(X.a.Label,{children:"Email"}),Object(S.jsx)(X.a.Control,{type:"text",name:"email",placeholder:"Enter UserName",onChange:this.handleChange.bind(this)}),Object(S.jsx)("div",{style:{color:"red"},children:this.state.formErrors.email}),Object(S.jsx)("br",{}),Object(S.jsx)(X.a.Label,{children:"Age"}),Object(S.jsx)(X.a.Control,{type:"text",name:"age",placeholder:"Enter age",onChange:this.handleChange.bind(this)}),Object(S.jsx)("div",{style:{color:"red"},children:this.state.formErrors.age}),Object(S.jsx)("br",{}),Object(S.jsx)(X.a.Label,{children:"Gender"}),Object(S.jsx)(X.a.Check,{type:"radio",label:"Male",name:"gender",value:"Male",checked:"Male"===this.state.gender,onChange:this.handleChange.bind(this)}),Object(S.jsx)(X.a.Check,{type:"radio",label:"Female",name:"gender",value:"Female",checked:"Female"===this.state.gender,onChange:this.handleChange.bind(this)}),Object(S.jsx)("br",{}),Object(S.jsx)(X.a.Label,{children:"Password"}),Object(S.jsx)(X.a.Control,{type:"password",name:"password1",placeholder:"Enter Password",onChange:this.handleChange.bind(this)}),Object(S.jsx)("div",{style:{color:"red"},children:this.state.formErrors.password1}),Object(S.jsx)("br",{}),Object(S.jsx)(X.a.Label,{children:"Confirm Password "}),Object(S.jsx)(X.a.Control,{type:"password",name:"password2",placeholder:"Enter Password Again",onChange:this.handleChange.bind(this)}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{style:{color:"red"},children:this.state.formErrors.password2}),Object(S.jsx)("br",{}),Object(S.jsx)("div",{style:{color:"red"},children:e}),Object(S.jsx)(Q.a,{variant:"outline-dark",style:{width:"150px"},onClick:this.handleSubmit.bind(this),children:"Signup"}),"\xa0",Object(S.jsx)(Q.a,{variant:"outline-dark",style:{width:"150px"},href:"/",children:"Login"})]})]})})]})})})}}]),r}(s.a.Component),se=Object(u.b)((function(e){return{loading:e.loading,error:e.error}}),(function(e){return{onAuth:function(t,r,n,s){return e(function(e,t,r,n){return function(s){s(f()),b.a.post("http://127.0.0.1:8000/rest-auth/registration/",{username:e,email:t,password1:r,password2:n}).then((function(t){var r=t.data.key,n=new Date((new Date).getTime()+36e5);localStorage.setItem("token",r),localStorage.setItem("username",e),localStorage.setItem("expirationDate",n),s(g(r)),s(C(3600))})).catch((function(e){s(y(e))}))}}(t,r,n,s))}}}))(ne),ie=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){return Object(S.jsx)("div",{children:this.props.isAuthenticated?Object(S.jsxs)(w.a,{children:[Object(S.jsx)(F,Object(o.a)({},this.props)),Object(S.jsxs)(k.c,{children:[Object(S.jsx)(k.a,{path:"/",exact:!0,component:q}),Object(S.jsx)(k.a,{path:"/home",component:q}),Object(S.jsx)(k.a,{path:"/stats",component:K}),Object(S.jsx)(k.a,{path:"/input",component:Z}),Object(S.jsx)(k.a,{path:"/login",component:re}),Object(S.jsx)(k.a,{path:"/signup",component:q})]})]}):Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(w.a,{children:[Object(S.jsx)(k.a,{path:"/signup",component:se}),Object(S.jsx)(k.a,{path:"/login",component:re}),Object(S.jsx)(k.a,{path:"/",exact:!0,component:re})]})})})}}]),r}(n.Component),ae=Object(u.b)((function(e){return{isAuthenticated:null!==e.token}}),(function(e){return{onTryAutoSignup:function(){return e((function(e){var t=localStorage.getItem("token");if(void 0===t)e(v());else{var r=new Date(localStorage.getItem("expirationDate"));r<=new Date?e(v()):(e(g(t)),e(C((r.getTime()-(new Date).getTime())/1e3)))}}))}}}))(ie),oe=r(32),ce=r(64),le=function(e,t){return Object(o.a)(Object(o.a)({},e),t)},de={token:null,error:null,loading:!1},he=function(e,t){return le(e,{error:null,loading:!0})},ue=function(e,t){return le(e,{token:t.token,error:null,loading:!1})},je=function(e,t){return le(e,{error:t.error,loading:!1})},be=function(e,t){return le(e,{token:null})},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return he(e);case O:return ue(e,t);case x:return je(e,t);case m:return be(e);default:return e}},Oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||oe.c,xe=Object(oe.d)(pe,Oe(Object(oe.a)(ce.a))),me=Object(S.jsx)(u.a,{store:xe,children:Object(S.jsx)(ae,{})});a.a.render(me,document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.f2bb0c1d.chunk.js.map